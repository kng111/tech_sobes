Менеджер контекста позволяет выделять и освобождать ресурсы строго по необходимости. В Python за это отвечает блок с оператором with. Он имеет следующую конструкцию:

Если он синхронный - __enter__ и __exit__
Если асинхронный - __aenter__ и __aexit__